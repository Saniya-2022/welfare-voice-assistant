{"ast":null,"code":"import express from \"express\";\nimport cors from \"cors\";\nimport dotenv from \"dotenv\";\nimport fetch from \"node-fetch\";\ndotenv.config();\nconst app = express();\napp.use(cors());\napp.use(express.json());\napp.post(\"/ask\", async (req, res) => {\n  try {\n    var _data$candidates, _data$candidates$, _data$candidates$$con, _data$candidates$$con2, _data$candidates$$con3;\n    const {\n      prompt\n    } = req.body;\n    const apiKey = process.env.GEMINI_API_KEY;\n    const result = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        contents: [{\n          parts: [{\n            text: prompt\n          }]\n        }]\n      })\n    });\n    const data = await result.json();\n    console.log(\"Gemini Response:\", data);\n    const reply = (data === null || data === void 0 ? void 0 : (_data$candidates = data.candidates) === null || _data$candidates === void 0 ? void 0 : (_data$candidates$ = _data$candidates[0]) === null || _data$candidates$ === void 0 ? void 0 : (_data$candidates$$con = _data$candidates$.content) === null || _data$candidates$$con === void 0 ? void 0 : (_data$candidates$$con2 = _data$candidates$$con.parts) === null || _data$candidates$$con2 === void 0 ? void 0 : (_data$candidates$$con3 = _data$candidates$$con2[0]) === null || _data$candidates$$con3 === void 0 ? void 0 : _data$candidates$$con3.text) || \"AI could not generate a response.\";\n    res.json({\n      reply\n    });\n  } catch (e) {\n    console.error(e);\n    res.json({\n      reply: \"AI Server Error\"\n    });\n  }\n});\napp.listen(5000, () => console.log(\"AI Server running on port 5000 ðŸš€\"));","map":{"version":3,"names":["express","cors","dotenv","fetch","config","app","use","json","post","req","res","_data$candidates","_data$candidates$","_data$candidates$$con","_data$candidates$$con2","_data$candidates$$con3","prompt","body","apiKey","process","env","GEMINI_API_KEY","result","method","headers","JSON","stringify","contents","parts","text","data","console","log","reply","candidates","content","e","error","listen"],"sources":["C:/Users/Saniya/welfare-voice-assistant/src/gemini.js"],"sourcesContent":["import express from \"express\";\r\nimport cors from \"cors\";\r\nimport dotenv from \"dotenv\";\r\nimport fetch from \"node-fetch\";\r\n\r\ndotenv.config();\r\n\r\nconst app = express();\r\napp.use(cors());\r\napp.use(express.json());\r\n\r\napp.post(\"/ask\", async (req, res) => {\r\n  try {\r\n    const { prompt } = req.body;\r\n\r\n    const apiKey = process.env.GEMINI_API_KEY;\r\n\r\n    const result = await fetch(\r\n      `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}`,\r\n      {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          contents: [{ parts: [{ text: prompt }] }],\r\n        }),\r\n      }\r\n    );\r\n\r\n    const data = await result.json();\r\n    console.log(\"Gemini Response:\", data);\r\n\r\n    const reply =\r\n      data?.candidates?.[0]?.content?.parts?.[0]?.text ||\r\n      \"AI could not generate a response.\";\r\n\r\n    res.json({ reply });\r\n  } catch (e) {\r\n    console.error(e);\r\n    res.json({ reply: \"AI Server Error\" });\r\n  }\r\n});\r\n\r\napp.listen(5000, () => console.log(\"AI Server running on port 5000 ðŸš€\"));\r\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,SAAS;AAC7B,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,MAAM,MAAM,QAAQ;AAC3B,OAAOC,KAAK,MAAM,YAAY;AAE9BD,MAAM,CAACE,MAAM,CAAC,CAAC;AAEf,MAAMC,GAAG,GAAGL,OAAO,CAAC,CAAC;AACrBK,GAAG,CAACC,GAAG,CAACL,IAAI,CAAC,CAAC,CAAC;AACfI,GAAG,CAACC,GAAG,CAACN,OAAO,CAACO,IAAI,CAAC,CAAC,CAAC;AAEvBF,GAAG,CAACG,IAAI,CAAC,MAAM,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EACnC,IAAI;IAAA,IAAAC,gBAAA,EAAAC,iBAAA,EAAAC,qBAAA,EAAAC,sBAAA,EAAAC,sBAAA;IACF,MAAM;MAAEC;IAAO,CAAC,GAAGP,GAAG,CAACQ,IAAI;IAE3B,MAAMC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,cAAc;IAEzC,MAAMC,MAAM,GAAG,MAAMnB,KAAK,CACxB,gGAAgGe,MAAM,EAAE,EACxG;MACEK,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CP,IAAI,EAAEQ,IAAI,CAACC,SAAS,CAAC;QACnBC,QAAQ,EAAE,CAAC;UAAEC,KAAK,EAAE,CAAC;YAAEC,IAAI,EAAEb;UAAO,CAAC;QAAE,CAAC;MAC1C,CAAC;IACH,CACF,CAAC;IAED,MAAMc,IAAI,GAAG,MAAMR,MAAM,CAACf,IAAI,CAAC,CAAC;IAChCwB,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEF,IAAI,CAAC;IAErC,MAAMG,KAAK,GACT,CAAAH,IAAI,aAAJA,IAAI,wBAAAnB,gBAAA,GAAJmB,IAAI,CAAEI,UAAU,cAAAvB,gBAAA,wBAAAC,iBAAA,GAAhBD,gBAAA,CAAmB,CAAC,CAAC,cAAAC,iBAAA,wBAAAC,qBAAA,GAArBD,iBAAA,CAAuBuB,OAAO,cAAAtB,qBAAA,wBAAAC,sBAAA,GAA9BD,qBAAA,CAAgCe,KAAK,cAAAd,sBAAA,wBAAAC,sBAAA,GAArCD,sBAAA,CAAwC,CAAC,CAAC,cAAAC,sBAAA,uBAA1CA,sBAAA,CAA4Cc,IAAI,KAChD,mCAAmC;IAErCnB,GAAG,CAACH,IAAI,CAAC;MAAE0B;IAAM,CAAC,CAAC;EACrB,CAAC,CAAC,OAAOG,CAAC,EAAE;IACVL,OAAO,CAACM,KAAK,CAACD,CAAC,CAAC;IAChB1B,GAAG,CAACH,IAAI,CAAC;MAAE0B,KAAK,EAAE;IAAkB,CAAC,CAAC;EACxC;AACF,CAAC,CAAC;AAEF5B,GAAG,CAACiC,MAAM,CAAC,IAAI,EAAE,MAAMP,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}