{"ast":null,"code":"export async function askGemini(prompt) {\n  var _data$candidates, _data$candidates$, _data$candidates$$con, _data$candidates$$con2;\n  const res = await fetch(`https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent?key=${process.env.REACT_APP_GEMINI_API_KEY}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      contents: [{\n        parts: [{\n          text: prompt\n        }]\n      }]\n    })\n  });\n  const data = await res.json();\n  console.log(\"Gemini raw response:\", data);\n  const text = data === null || data === void 0 ? void 0 : (_data$candidates = data.candidates) === null || _data$candidates === void 0 ? void 0 : (_data$candidates$ = _data$candidates[0]) === null || _data$candidates$ === void 0 ? void 0 : (_data$candidates$$con = _data$candidates$.content) === null || _data$candidates$$con === void 0 ? void 0 : (_data$candidates$$con2 = _data$candidates$$con.parts) === null || _data$candidates$$con2 === void 0 ? void 0 : _data$candidates$$con2.map(p => p.text).join(\" \").trim();\n  return text && text.length > 0 ? text : \"You are eligible for the schemes shown above.\";\n}","map":{"version":3,"names":["askGemini","prompt","_data$candidates","_data$candidates$","_data$candidates$$con","_data$candidates$$con2","res","fetch","process","env","REACT_APP_GEMINI_API_KEY","method","headers","body","JSON","stringify","contents","parts","text","data","json","console","log","candidates","content","map","p","join","trim","length"],"sources":["C:/welfare-voice-assistant/src/gemini.js"],"sourcesContent":["export async function askGemini(prompt) {\r\n  const res = await fetch(\r\n    `https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent?key=${process.env.REACT_APP_GEMINI_API_KEY}`,\r\n    {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        contents: [\r\n          {\r\n            parts: [{ text: prompt }],\r\n          },\r\n        ],\r\n      }),\r\n    }\r\n  );\r\n\r\n  const data = await res.json();\r\n  console.log(\"Gemini raw response:\", data);\r\n\r\n  const text =\r\n    data?.candidates?.[0]?.content?.parts\r\n      ?.map(p => p.text)\r\n      .join(\" \")\r\n      .trim();\r\n\r\n  return text && text.length > 0\r\n    ? text\r\n    : \"You are eligible for the schemes shown above.\";\r\n}\r\n"],"mappings":"AAAA,OAAO,eAAeA,SAASA,CAACC,MAAM,EAAE;EAAA,IAAAC,gBAAA,EAAAC,iBAAA,EAAAC,qBAAA,EAAAC,sBAAA;EACtC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CACrB,sFAAsFC,OAAO,CAACC,GAAG,CAACC,wBAAwB,EAAE,EAC5H;IACEC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MACnBC,QAAQ,EAAE,CACR;QACEC,KAAK,EAAE,CAAC;UAAEC,IAAI,EAAEjB;QAAO,CAAC;MAC1B,CAAC;IAEL,CAAC;EACH,CACF,CAAC;EAED,MAAMkB,IAAI,GAAG,MAAMb,GAAG,CAACc,IAAI,CAAC,CAAC;EAC7BC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEH,IAAI,CAAC;EAEzC,MAAMD,IAAI,GACRC,IAAI,aAAJA,IAAI,wBAAAjB,gBAAA,GAAJiB,IAAI,CAAEI,UAAU,cAAArB,gBAAA,wBAAAC,iBAAA,GAAhBD,gBAAA,CAAmB,CAAC,CAAC,cAAAC,iBAAA,wBAAAC,qBAAA,GAArBD,iBAAA,CAAuBqB,OAAO,cAAApB,qBAAA,wBAAAC,sBAAA,GAA9BD,qBAAA,CAAgCa,KAAK,cAAAZ,sBAAA,uBAArCA,sBAAA,CACIoB,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACR,IAAI,CAAC,CACjBS,IAAI,CAAC,GAAG,CAAC,CACTC,IAAI,CAAC,CAAC;EAEX,OAAOV,IAAI,IAAIA,IAAI,CAACW,MAAM,GAAG,CAAC,GAC1BX,IAAI,GACJ,+CAA+C;AACrD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}